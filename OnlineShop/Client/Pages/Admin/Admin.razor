@using Microsoft.AspNetCore.Components
@using OnlineShop.Client.Services
@inject BrowserAPI _browserApi

@page "/admin"

<MudTabs Outlined="true" Position="Position.Top" Rounded="true" Border="true" ApplyEffectsToContainer="true" Class="mt-8" PanelClass="pa-6">
    <MudTabPanel Text="Статистика" Icon="@Icons.Material.Filled.BarChart">
        <MudPaper Class="ma-4">
            <Print Id="barChart" @ref="@printer">
                <MudText Align="Align.Center">Статистика по покупкам</MudText>
                <StatisticBarChart dataSource="api/Operations/GetStatistics"></StatisticBarChart>
                <br>
                <MudText Align="Align.Center">Статистика по загруженным изображениям</MudText>
                <StatisticBarChart dataSource="api/Image/GetStatistics"></StatisticBarChart>
            </Print>
        </MudPaper>
    </MudTabPanel>
</MudTabs>

@code {

    private async Task PrintPage()
    {
        await _browserApi.PrintPageDialog();
    }

}